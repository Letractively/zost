SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL';

DROP SCHEMA IF EXISTS `GYMWORKS` ;
CREATE SCHEMA IF NOT EXISTS `GYMWORKS` DEFAULT CHARACTER SET utf8 COLLATE utf8_bin ;
USE `GYMWORKS` ;

-- -----------------------------------------------------
-- Table `GYMWORKS`.`CLIENTES`
-- -----------------------------------------------------
CREATE  TABLE IF NOT EXISTS `GYMWORKS`.`CLIENTES` (
  `BI_CLIENTES_ID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT ,
  `VA_NOME` VARCHAR(64) NOT NULL ,
  `CH_CPF` CHAR(11) NULL DEFAULT NULL ,
  `CH_CNPJ` CHAR(14) NULL DEFAULT NULL ,
  `VA_RG` VARCHAR(10) NOT NULL ,
  `VA_OERG` ENUM('PM','PC','SSP','SDS','MMA','MAE','MEX','ZZZ') NOT NULL DEFAULT 'SSP' ,
  `CH_UFRG` ENUM('AC','AL','AP','AM','BA','CE','DF','ES','GO','MA','MT','MS','MG','PA','PB','PR','PE','PI','RJ','RN','RS','RO','RR','SC','SP','SE','TO') NOT NULL ,
  PRIMARY KEY (`BI_CLIENTES_ID`) )
ENGINE = InnoDB
COMMENT = 'Tabela de clientes' ;


-- -----------------------------------------------------
-- Table `GYMWORKS`.`TELEFONESDOSCLIENTES`
-- -----------------------------------------------------
CREATE  TABLE IF NOT EXISTS `GYMWORKS`.`TELEFONESDOSCLIENTES` (
  `BI_TELEFONESDOSCLIENTES_ID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT ,
  `BI_CLIENTES_ID` BIGINT UNSIGNED NOT NULL ,
  `CH_TELEFONE` CHAR(10) NOT NULL ,
  `EN_TIPO` ENUM('RESIDENCIAL','CELULAR','COMERCIAL') NOT NULL ,
  `BO_PRIMARIO` TINYINT(1)  NULL DEFAULT FALSE ,
  PRIMARY KEY (`BI_TELEFONESDOSCLIENTES_ID`) ,
  INDEX `TDC_CLI_IX` (`BI_CLIENTES_ID` ASC) ,
  CONSTRAINT `TDC_CLI_FK`
    FOREIGN KEY (`BI_CLIENTES_ID` )
    REFERENCES `GYMWORKS`.`CLIENTES` (`BI_CLIENTES_ID` )
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB, 
COMMENT = 'Tabela com todos os telefones dos clientes' ;


-- -----------------------------------------------------
-- Table `GYMWORKS`.`EMAILSDOSCLIENTES`
-- -----------------------------------------------------
CREATE  TABLE IF NOT EXISTS `GYMWORKS`.`EMAILSDOSCLIENTES` (
  `BI_EMAILSDOSCLIENTES_ID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT ,
  `BI_CLIENTES_ID` BIGINT UNSIGNED NOT NULL ,
  `VA_EMAIL` VARCHAR(64) NOT NULL ,
  `BO_PRIMARIO` TINYINT(1)  NULL DEFAULT FALSE ,
  PRIMARY KEY (`BI_EMAILSDOSCLIENTES_ID`) ,
  INDEX `EDC_CLI_IX` (`BI_CLIENTES_ID` ASC) ,
  CONSTRAINT `EDC_CLI_FK`
    FOREIGN KEY (`BI_CLIENTES_ID` )
    REFERENCES `GYMWORKS`.`CLIENTES` (`BI_CLIENTES_ID` )
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;



SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
